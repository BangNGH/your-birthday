<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday</title>
    <link rel="icon" type="image/x-icon" href="./birthdayCake.png" />
    <link rel="stylesheet" href="banner_styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <style>
      #name:hover {
        animation: pulse 1s infinite;
        cursor: pointer;
      }
      #name {
        animation: pulse 1s infinite;
      }
      /* #date__of__birth {
        animation: pulse 1s infinite;
      } */

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
     
      <div class="flag__birthday">
        <img src="./images/1.png" alt="" width="350" class="flag__left" />
        <img src="./images/1.png" alt="" width="350" class="flag__right" />
      </div>
      <div class="content" style="margin-bottom: 50px;">
        <div class="left">
          <div class="title">
            <h1 class="happy">
              <span style="--t: 4s;">H</span>
              <span style="--t: 4.2s;">a</span>
              <span style="--t: 4.4s;">p</span>
              <span style="--t: 4.6s;">p</span>
              <span style="--t: 4.8s;">y</span>
            </h1>
            <h1 class="birthday">
              <span style="--t: 5s;">B</span>
              <span style="--t: 5.2s;">i</span>
              <span style="--t: 5.4s;">r</span>
              <span style="--t: 5.6s;">t</span>
              <span style="--t: 5.8s;">h</span>
              <span style="--t: 6s;">d</span>
              <span style="--t: 6.2s;">a</span>
              <span style="--t: 6.4s;">y</span>
            </h1>
            <div class="hat">
              <img src="./images/hat.png" alt="" width="130" />
            </div>
          </div>
          <div id ="date__of__birth" class="date__of__birth">
            <span></span>
          </div>
         
        </div>
        <div class="right">
          <div class="box__account">
            <div class="image">
              <img
              width="100%"
              height="100%"
                id="my-love"
                alt=""
              />
            </div>
            <div class="name" id="name">
              <i id="play-button" style="margin-left: 5px;" class="fa fa-play"></i>
              <span id="user-name" style="margin: 0 20px;"></span>
              <i class="fa-solid fa-heart" style="margin-right: 5px;"></i>
            </div>
            <div class="balloon_one">
              <img width="100px" src="./images/balloon1.png" alt="" />
            </div>
            <div class="balloon_two">
              <img width="100px" src="./images/balloon2.png" alt="" />
            </div>
          </div>
    
        </div>
      </div>
      <div class="decorate_star star1" style="--t: 15s;"></div>
      <div class="decorate_star star2" style="--t: 15.2s;"></div>
      <div class="decorate_star star3" style="--t: 15.4s;"></div>
      <div class="decorate_star star4" style="--t: 15.6s;"></div>
      <div class="decorate_star star5" style="--t: 15.8s;"></div>

      <div class="decorate_bottom" id="decorate_bottom">
        <img src="./images/decorate.png" alt="" width="100" />
      </div>
      <audio id="birthday-audio" src="/korea-hbd.mp3" autoplay></audio>
      <div class="box__letter">
        <div class="letter__border">
          <div class="letter">
            <div class="title__letter"></div>
            <div class="content__letter">
              <div class="left">
                <img
                  id="heart__letter"
                  src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif"
                  alt=""
                />
                <img
                  class="heart heart_1"
                  style="--t: 0.2s"
                  width="20"
                  src="./images/heart.png"
                  alt=""
                />
                <img
                  class="heart heart_2"
                  style="--t: 0.4s"
                  width="20"
                  src="./images/heart.png"
                  alt=""
                />
                <img
                  class="heart heart_3"
                  style="--t: 0.6s"
                  width="20"
                  src="./images/heart.png"
                  alt=""
                />
                <img
                  class="heart heart_4"
                  style="--t: 0.8s"
                  width="20"
                  src="./images/heart.png"
                  alt=""
                />
              </div>
              <div class="right">
                <div class="love__img">
                  <img
                    src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif"
                    alt=""
                    width="220"
                  />
                </div>
                <div class="text__letter">
                  <p></p>
                </div>
                <img id="mewmew" width="80" src="./images/mewmew.gif" alt="" />
              </div>
            </div>
          </div>
          <div class="close">
            <i class="fa-solid fa-xmark"></i>
          </div>
        </div>
      </div>
    </div>
    <button id="hidden-play-button" type="button" style="display: none;">Play</button>
  </body>
  <script>
        const userInfo = JSON.parse(localStorage.getItem("birthdayUserInfo"));
        if (userInfo) {
          document.getElementById("user-name").innerHTML = userInfo.name;
          let datetxt = userInfo.birthday;
          const userImage = document.getElementById("my-love");
          userImage.src = userInfo.imagePreview;
          let datatxtletter = "None";
          let titleLetter = "Gá»­i em";
          let charArrDate = datetxt.split('');
          let charArrDateLetter = datatxtletter.split('');
          let charArrTitle = titleLetter.split('');
          let currentIndex = 0;
          let currentIndexLetter = 0;
          let currentIndexTitle = 0;
          let date__of__birth = document.querySelector(".date__of__birth span");
          let text__letter = document.querySelector(".text__letter p");
          setTimeout(function(){
              timeDatetxt = setInterval(function(){
                  if(currentIndex < charArrDate.length){
                      date__of__birth.textContent += charArrDate[currentIndex];
                      currentIndex++;
                  }
                  else{
                      let i = document.createElement("i");
                      i.className = "fa-solid fa-star"
                      document.querySelector(".date__of__birth").prepend(i)
                      document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                      clearInterval(timeDatetxt)
                  }
              },0)
          },0)
        }
       document.addEventListener("DOMContentLoaded", function() {
          if (performance.navigation.type === 1) {
              window.location.href = "/";
          }
        
          const hiddenButton = document.getElementById("hidden-play-button");
          hiddenButton.click();
          const audio = document.getElementById("birthday-audio");
          audio.play();
          const playButton = document.getElementById("name");
          playButton.addEventListener("click", function() {
            audio.play();
          });
       });
  </script>
</html>
